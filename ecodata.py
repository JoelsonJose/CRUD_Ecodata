# -*- coding: utf-8 -*-
"""EcoData.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1w2yMkGmtn47u-THLda_eA77_ue_NSI9_
"""

teste = input('Qual n√∫mero voc√™ quer saber se √© ')

from tabulate import tabulate


menu = '''
======================================
      ‚ôªÔ∏è CADASTRO DE LIXEIRAS
======================================

Seja bem vindo ao menu de cadastro
Selecione a op√ß√£o desejada:

[1] Inserir
[2] Listar
[3] Atualizar
[4] Deletar

========================= Ecodata ====
'''

lixeiras = {}


def inserir():
    print('============================================')
    print('         üóëÔ∏è CADASTRAR NOVA LIXEIRA         ')
    print('============================================\n')
    numeroSerie = input('Qual o n√∫mero de s√©rie da lixeira? ')

    if numeroSerie in lixeiras:
        print(f'‚ö†Ô∏è J√° existe uma lixeira cadastrada com o n√∫mero de s√©rie {numeroSerie}.')
        return

    endereco = input('Qual o endere√ßo que a lixeira foi instalada? ')
    situacao = input('Qual a SITUA√á√ÉO atual da lixeira (Ativa/Inativa/Cheia/Em Manuten√ß√£o)? ')
    dataInstalacao = input('Qual a data de instala√ß√£o da lixeira (DD/MM/AAAA)? ')
    capacidade = input('Qual a CAPACIDADE da lixeira (em litros)? ')

    lixeiras[numeroSerie] = {
        'N√∫mero de S√©rie': numeroSerie,
        'Endere√ßo': endereco,
        'Situa√ß√£o': situacao,
        'Data de Instala√ß√£o': dataInstalacao,
        'Capacidade': capacidade
    }

    print(f'\n‚úÖ A lixeira com n√∫mero de s√©rie {numeroSerie} foi cadastrada com sucesso!')
    print('Voltando para o Menu de cadastro...')



def listar():
    print('============================================')
    print('          üìù LISTAR LIXEIRAS              ')
    print('============================================')
    if not lixeiras:
        print("‚ö†Ô∏è Nenhuma lixeira cadastrada.")
        return

    print("\nüìã Lista de Lixeiras Cadastradas:\n")
    tabela = []

    for numeroSerie, dados in lixeiras.items():
        linha = [
            numeroSerie,
            dados.get('Endere√ßo', ''),
            dados.get('Situa√ß√£o', ''),
            dados.get('Data de Instala√ß√£o', ''),
            dados.get('Capacidade', '')
        ]
        tabela.append(linha)

    cabecalho = ["N√∫mero de S√©rie", "Endere√ßo", "Situa√ß√£o", "Data de Instala√ß√£o", "Capacidade"]
    print(tabulate(tabela, headers=cabecalho, tablefmt="fancy_grid"))


def atualizar():
    print('============================================')
    print('          ‚úèÔ∏è ATUALIZAR LIXEIRA              ')
    print('============================================')
    numeroSerie = input('Digite o n√∫mero de s√©rie da lixeira que deseja atualizar: ')
    if numeroSerie not in lixeiras:
        print('‚ö†Ô∏è Lixeira n√£o encontrada.')
        return

    print('\nCampos dispon√≠veis para atualiza√ß√£o:')
    print('[1] N√∫mero de S√©rie')
    print('[2] Endere√ßo')
    print('[3] Situa√ß√£o')
    print('[4] Data de Instala√ß√£o')
    print('[5] Capacidade')

    opcao = input('\nEscolha o n√∫mero correspondente ao campo que deseja atualizar: ')

    if opcao == '1':
        novoNumero = input('Digite o novo n√∫mero de s√©rie: ')
        if novoNumero in lixeiras:
            print('‚ö†Ô∏è J√° existe uma lixeira com esse n√∫mero de s√©rie.')
        else:
            lixeiras[novoNumero] = lixeiras.pop(numeroSerie)
            lixeiras[novoNumero]['N√∫mero de S√©rie'] = novoNumero
            print('‚úÖ N√∫mero de s√©rie atualizado com sucesso!')

    elif opcao == '2':
        novoEndereco = input('Digite o novo endere√ßo: ')
        lixeiras[numeroSerie]['Endere√ßo'] = novoEndereco
        print('‚úÖ Endere√ßo atualizado com sucesso!')

    elif opcao == '3':
        novaSituacao = input('Digite a nova situa√ß√£o: ')
        lixeiras[numeroSerie]['Situa√ß√£o'] = novaSituacao
        print('‚úÖ Situa√ß√£o atualizada com sucesso!')

    elif opcao == '4':
        novaData = input('Digite a nova data de instala√ß√£o: ')
        lixeiras[numeroSerie]['Data de Instala√ß√£o'] = novaData
        print('‚úÖ Data de instala√ß√£o atualizada com sucesso!')

    elif opcao == '5':
        novaCapacidade = input('Digite a nova capacidade: ')
        lixeiras[numeroSerie]['Capacidade'] = novaCapacidade
        print('‚úÖ Capacidade atualizada com sucesso!')

    else:
        print('‚ö†Ô∏è Op√ß√£o inv√°lida.')


def Deletar():
    print('============================================')
    print('           ‚ùå DELETAR LIXEIRA               ')
    print('============================================')
    numeroSerie = input('Digite o n√∫mero de s√©rie da lixeira que deseja deletar: ')
    if numeroSerie not in lixeiras:
        print('‚ö†Ô∏è Lixeira n√£o encontrada.')
        return

    print('\nO que deseja deletar:')
    print('[1] Deletar toda a lixeira')
    print('[2] Deletar alguns dados da lixeira')

    opcao = input('Escolha uma op√ß√£o: ')

    if opcao == "1":
        confirmacao = input('Tem certeza que deseja deletar toda a lixeira (Sim/N√£o)? ')
        if confirmacao.lower() == 'sim':
            del lixeiras[numeroSerie]
            print('‚úÖ Lixeira removida com sucesso!')
        else:
            print('‚ùå A√ß√£o cancelada.')

    elif opcao == "2":
        print('\nCampos dispon√≠veis para deletar:')
        print('[1] Endere√ßo')
        print('[2] Situa√ß√£o')
        print('[3] Data de Instala√ß√£o')
        print('[4] Capacidade')

        campo = input('\nEscolha o n√∫mero correspondente ao campo que deseja deletar: ')

        if campo == "1":
            lixeiras[numeroSerie]['Endere√ßo'] = ""
            print('‚úÖ Endere√ßo deletado com sucesso!')

        elif campo == "2":
            lixeiras[numeroSerie]['Situa√ß√£o'] = ""
            print('‚úÖ Situa√ß√£o deletada com sucesso!')

        elif campo == "3":
            lixeiras[numeroSerie]['Data de Instala√ß√£o'] = ""
            print('‚úÖ Data de instala√ß√£o deletada com sucesso!')

        elif campo == "4":
            lixeiras[numeroSerie]['Capacidade'] = ""
            print('‚úÖ Capacidade deletada com sucesso!')

        else:
            print('‚ö†Ô∏è Op√ß√£o inv√°lida.')


while True:
    opcao = input(menu)
    if opcao == "1":
        inserir()
    elif opcao == "2":
        listar()
    elif opcao == "3":
        atualizar()
    elif opcao == "4":
        Deletar()
    else:
        print("‚ö†Ô∏è Op√ß√£o inv√°lida.")